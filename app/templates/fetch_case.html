<!-- templates/fetch_case.html -->
{% extends 'base.html' %}

{% block content %}
<div class="form-container">
    <h3>Case Status : Search by Case Number</h3>
    <form method="POST" action="/fetch-case">
        <label for="court_complex">Court Complex *</label>
        <select id="court_complex" name="court_complex" required>
            <option value="">Select Court Complex</option>
            <option value="1">District Court, Faridabad</option>

        </select>

        <label for="case_type">Case Type *</label>
        <select id="case_type" name="case_type" required>
            <option value="">--Select Case Type--</option>
            <option>District & Sessions Court</option>
            <option>Chief Judicial Magistrate Court</option>
            <option>Additional District Court</option>
            <option>Senior Civil Judge Court</option>
            <option>Junior Civil Judge Court</option>
            <option>Family Court (District Level)</option>
            <option>Fast Track District Court</option>
        </select>

        <label for="case_number">Case Number *</label>
        <input type="text" id="case_number" name="case_number" required placeholder="Enter Case Number">

        <label for="year">Filing Year *</label>
        <input type="text" id="year" name="year" required placeholder="e.g. 2022">

        <div class="captcha-box">
            <img src="{{ url_for('main.captcha_image') }}" alt="Captcha Image">
            <button type="button" onclick="refreshCaptcha()">ðŸ”„ Refresh Captcha</button>
            <input type="text" name="captcha" placeholder="Enter Captcha" required>
        </div>


        <div class="buttons">
            <button type="submit">Search</button>
            <button type="reset">Reset</button>
        </div>
    </form>
</div>
<script>
    function refreshCaptcha() {
        const img = document.getElementById("captchaImage");
        // Appends a timestamp to force image refresh
        img.src = img.src.split("?")[0] + "?t=" + new Date().getTime();
    }
</script>

{% endblock %}
